language: java
sudo: required
dist: xenial
jdk:
- openjdk8
services:
- docker
addons:
  apt:
    packages:
      - pass
git:
  depth: 250
install: "./installViaTravis.sh"
script: "./buildViaTravis.sh"
before_install: "./beforeInstall.sh"
env:
  global:
  - secure: D9jQQd2Mu4ssneMNh3yPWTRsXTntfhurFHoUKVHOpt9lK+80xmIVObTUSimEyQUZqYnhj2UKTNmuxSlNgASwEqMnWyron/eGkJP0z9A8cQysTm24b+eLI/mxb4Y/heut00VDYPD3D0gDdom1WZiUKxPM7r+10+CusTc5ZnLI4C9CzMwIt4uJpuEc/JjZNl56vX7j5M7E1Q0XyeqC3ZL2JPhRIfQE0OPShl9BI7UZcohYxIerNLuY3w2Bce5amrrEs+RgD4aTLnTaxjYuFJpP3bDlx3sF8WsZVFCRoVH0RQI3mJXCFetaYmE+TXUDdzY3nS8aKbFL1HVUZBbGB/iR2XsA9Bid7VJZCWzw15BeLnwyM5FedfmGZz4QQ6tcjwNHsXx6cKX5F7wjiVnElmRJ9nZuekZXXf2uueWwY43/h7w8j22pEJgR/oFmEYzWZ4WyNSrYlO4pylNio3HC17x+PeUQT4GVI7ZMz8qzQJIKwozLR2IZKkLzEPk+RNFopXsCFuWaqy7zpowl8QipRx8EMMdHbR6DAUYpqWGpJo2SH7DYa2dS3JM2Zi/de1r6JJg066/HBXXVnvUyOGbyVESoVMBd2quel40K4pB4t2TFpz2K7tjv12lLV5IzYxA0YONYdIf70VbKY2BII9TniLV2czKbvOBjGxX17M660tUauqw=
  - secure: EbpD+/WBBO3Q6y4S6ZBU/yUj/gHWQ7OkkNgHtnTFFoh0/ntrU5KYNJ+2wISpavXaOyDimOe+w23+mU0T6BrxI70F0Zc3ipVAqrt301M4c4zqKrO9bulrZkiJmzHlGyR3mGVlzcksiPzq9R/96pg65kZVte8ui2gO9NGCyQUPt9INrtcKSSZJpHV9cu57FFou7N9BGpSpUfQSKbcuuylGLjJ9NskVKY+U2EEc8PTwLRUgsahIzNiHtLxgQw3IliVlS2nh3eVS01ppa97kcQZXX8jGfRNvaCwEJ3zyGkjQoS7s+2tFX2XkJfZCCqEPhv6jR3dGr1MD0aXeWKwBJE8ZcWwTZgPFlxaGTi3ZQpiMbN3OS1cV+KNLBvFWoHm9LlNQsxYOnlqDjvld2rISfV62iGf7/shZUyP5qB8IB8bAJYW0PqVDDtWA11Y8TGjABRTjqfvjBZSjZ+e7mG7sHn2xbLWzMo6+Qzp1365Y8Kf94aA2t7Vq6/An8fLh/H1C+292HglslH/rsdddI6/eBIbh2dSUZplgr29cHeYrDmOAaW9Y7yjWE/o0ZnqkZRo2WsSmoPxD1IGxMqnhQrsbEPOQR6fYfkLKysWn20WFhOa1yycQ8EsfdeRDQoLVSMM9Tg+s1K0J1sz8xTgOGwKIKFhsRa74mEH8buG6IAt12XSUS48=
  - secure: cOAnfrknyAu1SAau7ka+TXwMlBK03Jwpq5JyehduCWBX+kCrdm6qUTvqKeoHCtsm+sQcJjWeMfTrO25Dl84In7jyH2sQdA3EfOrH+VCcbkRq3WDPloPfZZf9ltEU+Qt+y4IiItv0wwEqBC77zjVCLTiFZNb2+e239jf9ZaYp76++vL5QfpUv/yVNXKTGxuzh+7GzUV4Xr1vSWCKyUaSbXF+tNEMD9ZYsSi5EpR3XgTzZZ7kc0drCeOPf7uEt0BJmpcZzTi6WBS0t4ZmvDjDDb2t21CzEJpUZ5hKZjjSebIYvfgsx5+9DXWZa3ItAFwPRShY4oOzK4tCa8ZLRIbYhh8WQ6jFS+/MAmdBxXouaVbslXqRvQ8ONutq25xbU4CsGPHLFny+TJu+LD3WtdRSxnHZZIOkDxF1kcxSSC+9EGWpyxOyINrSn7llEF3SaaIXEgYcbLmVkGonvcwTFCp2WxlYZCIEkaFA9CheEPwo1lxitJrLAmI/bvIGnzHPdJShtsR0FCdmKoEYkuoH+J4VQoiM2pyCcct2Wo5ZcnqKyLBnNG6DtAObL+k1XPLvLnsVjOyGRcOv2ugrnjKCrNSsvloChmwgS8sR5kfeMN1AtJHWk00iQNE1M0XgSMF0nGQCTX1zqP+yvPbMNyvmu28IVpqnNov2Xl339+hhIZpMH7rc=
  - secure: wIzbVUbkFmvzutu79z34NNYnfKgNuMby9RPX4TVy4GkhVtuFUSC81++I/NYHv6/Cb+hAZnw7LArYAERHDrxdf8ueia41pvKCR1HejS9u0hwPLxgFG2mvGuSD8R2b1GSRnQEFQgj983gVAOH9WMydq5zOqU0367OdUSjkF/CJK/UmBFOJfOUKRZW47YzgLAflxo+3S8b4vXEdr2bJ/iU6xnI3xrjxK1/X5ARs8KpZipTcM3rpG2hTc+rJJiU6Lzic0uTa7an04i9rrqeNr846R+WH6eZbJbR0FMJ2UCv+V9eQS9BeSt99gCjschPsXVAUoT61S0jR4k0MRe3nQxItLrOEqE0VaEqowblAA2L0d7R3ozupaj3EhbLCfkpQtsBtFdcsuAOlAL9mdAMyUZU01YjaiRW9TEgDoHcMTR2hSsAbleLMewb0seijdUUPnnYM7A+k1d6iXwiN2PYkhWgXzEwfxKZ8BaJIF3gSZz94YYfuQ1u/D+T99Iu3oNtdtT5YEckPcuvSb8ak29F0h5xz7qxvaG8lgMyXUXEB5BwzWb4+5uqyL61V4ahvP8GA7DbKbbnZZ4+X5gCQt2Ua8wjass54YbpJWDDenmOeJFjKpB+abeq7xnWrEMFdyvhDpVaKHinG7AvImnVl4G7LHOy5wtyRdcLGXInras6U+9Jv7/E=
  - secure: pEYDgLabknovD2t94LBSwpAxqbXtPlAmbvnhP44zH8Vlf3wV7tqEta+FNS1TCRKDzWuB+Ol6mGwNZ7sChu1ZIfkslNFImPeRFKUvpqDG8MPcvntyD+ZXVI/y76ynNr9TtXRfcCH8zSreNB/9V5Plo/FVzNjjK4ovbmpt2X5B9Urb4RN2viZQ5kDWZzXtfzhvueacL2Tb04185CzB9unb12qszA45ew/29TZmQ7EQ9IDjjbu2jFKsryPBG5j4zUv6lEJjM0HYn724yWPotUH3IR2Iktucwn+Bv/TMTcQ8WgLrIYRsWJjMa6a5u3bQxaExDG/URAFxryVnvvJva5ukAo+4LizHrIFUPpx796OtBErJDG87XvcBdPfw9sK8LtlUOf7UkLivOt/YCCgkEAlRaNAsU6uooEu6Br+BDvGurtq0/Z0cQnMemdc1Gy8pVVlmRUfu6eoKw+j/YsEdGA5VCNGPTI9121etRrLnLYxdmYXS7Ly5CbLPPBW8PcBvPMCmpFGcDOKUH0Gmt+gPzm7U05XPul33tJ1PAgY8ZllWSYoiRau0fsIMsJ5aPgbMr7cOX+iIGQYT3mhAQBaGmYIpU61HY5i4QD2mCmI5AV5pJVUkBzMfy6f8wiv/0vU23HmCbQb3XN5TlXkY2BnshepVEypnNBqwKfvQmYbQaXuJgrE=
  - secure: EALM8lpC7cfjSvV73SJDOAm8gtAbqh9v+dRa1vU3D6tVFVoPB2mctTHmh+MWVIgN9XVfi9LTbbKOOb5MZcyztzObGAxwfF9U/hSyx2zIBzXL85IJAZIGb+idY1Bee/2WDoUi/fzjUWxVteIlEoG9e+W7mvt6eQoxiDuK+CNxeBW8Oy3yNMc3gh+fQOVYngV4Wb9YWJRiYrVBP6pcveQTPvGIAZBa5HltPepppu566HHvz1Ju1GVmkphqNfGnfgoL0azF/rDFEMduaGt83aTRKbvMC9HfK3Ndv4f1PeJ8B8WXtPvNl+HfnllX7S7YI/b+vBhJutU7Uldoa+iQuPlvJQpp74fUt1LMK8reKJ8de/0S/k9h1DswUBlbLiZEgmxNLJBz83tpGJs7GwokG3eYEcxigkPUXjmdAuAY/M1tKG6as79Vs/osFy2JL50hQj4pJTBaOcjcPmmGcsqplMAoH4dovwuql6F6u/RBimUW0KOIsaGX4qnNCQaoric9SXNUNH0Ph87NFC/YIfg3hnpi2ochXNfvVfzuAfb5xLe7LVMcBHjfvHP5MnuFIc4EXp7UeafYxX0sd5wAu6kLeuwqABeHiH9vv135lnPuyspM05AkxDMIkhLAIZfbYagh6GtmZR8XWnHX0gvCBzBPHlkL/CougYn3PfjRuL082HqaiPQ=
cache:
  directories:
  - "$HOME/.gradle"
after_failure:
- name=$(date +"%Y-%m-%d") && cat ./metacat-functional-tests/build/logs/metacat/catalina.$name.log
- name=$(date +"%Y-%m-%d") && cat ./metacat-functional-tests/build/logs/metacat/localhost.$name.log
- cat ./metacat-functional-tests/build/logs/metacat/spring.log
